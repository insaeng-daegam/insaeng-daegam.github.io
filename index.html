<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸ìƒëŒ€ê° - ê³ í’ˆê²© íš¡ì¬ìˆ˜ ë¶„ì„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />
    <style>
        body { 
            font-family: 'Pretendard', sans-serif; background-color: #F7F3E9; color: #4E342E;
            -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;
        }
        .card-shadow { box-shadow: 0 10px 40px rgba(0,0,0,0.06); }
        .gold-wave { 
            background: linear-gradient(90deg, #B5A47D, #F9F1D0, #B5A47D, #E1C16E, #B5A47D);
            background-size: 200% auto; color: transparent; -webkit-background-clip: text; background-clip: text;
            animation: shine 3s linear infinite; font-weight: 800;
        }
        @keyframes shine { to { background-position: 200% center; } }
        .hidden { display: none; }
        input, select { background-color: #F9FAFB !important; border: 1px solid #E5E7EB !important; outline: none; transition: 0.2s; -webkit-user-select: text; user-select: text; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 100; align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; padding: 30px; border-radius: 30px; width: 100%; max-width: 550px; max-height: 70vh; overflow-y: auto; -webkit-user-select: text; user-select: text; }
        .loader { width: 40px; height: 40px; border: 4px solid #E1C16E; border-bottom-color: #4E342E; border-radius: 50%; display: inline-block; animation: rotation 1s linear infinite; }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .lotto-ball { width: 35px; height: 35px; border-radius: 50%; display: inline-flex; items-center; justify-content: center; font-weight: bold; font-size: 14px; color: white; margin: 2px; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-12 px-4" oncontextmenu="return false">

    <header class="text-center mb-10">
        <h1 class="text-4xl font-black mb-2">ì¸ìƒëŒ€ê°</h1>
        <p class="text-xl flex flex-col sm:flex-row items-center justify-center gap-2">
            <span class="text-gray-600 font-bold">ê³ í’ˆê²© íš¡ì¬ìˆ˜</span> 
            <span class="gold-wave text-2xl">ë¶„ì„ ë¦¬í¬íŠ¸</span>
        </p>
    </header>

    <main id="input-section" class="w-full max-w-lg bg-white rounded-[50px] card-shadow p-10 space-y-8">
        <div id="form-inner" class="space-y-6">
            <div><label class="block text-lg font-bold mb-3">ì„±í•¨</label><input type="text" id="name" class="w-full p-5 rounded-2xl text-lg" placeholder="ì„±í•¨ì„ ì…ë ¥í•˜ì„¸ìš”"></div>
            <div><label class="block text-lg font-bold mb-3">íœ´ëŒ€í° ë²ˆí˜¸</label><input type="tel" id="phone" class="w-full p-5 rounded-2xl text-lg" placeholder="01012345678"></div>
            <div><label class="block text-lg font-bold mb-3">ìƒë…„ì›”ì¼</label><input type="number" id="birth" class="w-full p-5 rounded-2xl text-lg" placeholder="19950815"></div>
            <div>
                <label class="block text-lg font-bold mb-3">íƒœì–´ë‚œ ì‹œê°„</label>
                <div class="flex gap-2">
                    <select id="ampm" class="w-1/3 p-5 rounded-2xl text-sm font-bold border-gray-200"><option value="0">ì˜¤ì „</option><option value="12">ì˜¤í›„</option></select>
                    <select id="birth-hour" class="w-1/3 p-5 rounded-2xl text-sm font-bold border-gray-200"></select>
                    <select id="birth-min" class="w-1/3 p-5 rounded-2xl text-sm font-bold border-gray-200"></select>
                </div>
            </div>
            <div class="bg-gray-50 rounded-3xl p-6 space-y-4">
                <div class="flex items-center gap-3 cursor-pointer pb-4 border-b border-gray-200" onclick="toggleAll()">
                    <input type="checkbox" id="all-agree" class="w-6 h-6 accent-[#4E342E]">
                    <span class="font-bold text-lg">ëª¨ë“  ì•½ê´€ì— ì „ì²´ ë™ì˜í•˜ê¸°</span>
                </div>
                <div class="space-y-3 pt-2 text-sm text-gray-600">
                    <div class="flex justify-between items-center"><label class="flex items-center gap-2"><input type="checkbox" id="p-agree" class="sub-agree w-5 h-5 accent-[#4E342E]"><span>[í•„ìˆ˜] ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©</span></label><button onclick="openModal('privacy')" class="underline">ë³´ê¸°</button></div>
                    <div class="flex justify-between items-center"><label class="flex items-center gap-2"><input type="checkbox" id="t-agree" class="sub-agree w-5 h-5 accent-[#4E342E]"><span>[í•„ìˆ˜] ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</span></label><button onclick="openModal('terms')" class="underline">ë³´ê¸°</button></div>
                </div>
            </div>
            <button onclick="runAnalysis()" class="w-full py-6 bg-[#4E342E] text-white rounded-[35px] text-2xl font-bold shadow-xl active:scale-95 transition-all">ë¬´ë£Œ íš¡ì¬ìˆ˜ ë¶„ì„ ì‹œì‘</button>
        </div>

        <div id="loading-area" class="hidden flex flex-col items-center py-20 space-y-6 text-center">
            <span class="loader"></span>
            <p class="text-xl font-black text-gray-700 animate-pulse">ëŒ€ê°ë‹˜ì´ ì²œê¸°ë¥¼ ì‚´í”¼ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
        </div>
    </main>

    <div id="result-section" class="hidden w-full max-w-lg space-y-6 pb-20">
        <div class="bg-[#4E342E] rounded-t-[50px] p-10 text-center text-white">
            <h2 class="text-2xl font-bold mb-1"><span id="res-name" class="text-yellow-400"></span> ëŒ€ê°ë‹˜ì˜</h2>
            <p class="gold-wave text-xl">ì •ë°€ ì˜¤í–‰ ë¶„ì„ ë¦¬í¬íŠ¸</p>
        </div>
        
        <div class="bg-white rounded-b-[50px] card-shadow p-8 space-y-8 -mt-2">
            <div class="bg-amber-50 rounded-3xl p-6 text-center border border-amber-100">
                <p class="text-amber-800 font-bold mb-2 italic">ëŒ€ê°ë‹˜ì˜ íƒ€ê³ ë‚œ ë³¸ì‹  ê¸°ìš´</p>
                <p id="res-ohaeng" class="text-3xl font-black text-[#4E342E]"></p>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="p-4 bg-gray-50 rounded-2xl border border-gray-100 text-center">
                    <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider">Lucky Color</p>
                    <p id="res-color" class="font-black text-lg"></p>
                </div>
                <div class="p-4 bg-gray-50 rounded-2xl border border-gray-100 text-center">
                    <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider">Lucky Direction</p>
                    <p id="res-dir" class="font-black text-lg"></p>
                </div>
                <div class="p-4 bg-gray-50 rounded-2xl border border-gray-100 text-center">
                    <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider">Lucky Object</p>
                    <p id="res-item" class="font-black text-lg"></p>
                </div>
                <div class="p-4 bg-gray-50 rounded-2xl border border-gray-100 text-center">
                    <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider">Complementary</p>
                    <p id="res-lucky" class="font-black text-lg"></p>
                </div>
            </div>

            <div class="bg-[#F7F3E9] p-6 rounded-3xl border-2 border-dashed border-[#B5A47D] text-center">
                <p class="font-bold text-[#4E342E] mb-3">âœ¨ ëŒ€ê°ë‹˜ê»˜ í•˜ì‚¬í•˜ëŠ” íš¡ì¬ ë²ˆí˜¸</p>
                <div id="res-nums" class="flex flex-wrap justify-center gap-1"></div>
            </div>

            <div class="space-y-3">
                <p class="font-bold flex items-center gap-2 text-lg">ğŸ“œ ëŒ€ê°ë‹˜ì„ ìœ„í•œ ì •ë°€ í›ˆìˆ˜</p>
                <div class="bg-gray-50 p-6 rounded-3xl">
                    <p id="res-desc" class="text-gray-700 leading-relaxed text-sm text-justify"></p>
                </div>
            </div>

            <button onclick="location.reload()" class="w-full py-5 bg-gray-100 text-gray-500 rounded-2xl font-bold">ë‹¤ì‹œ ë¶„ì„í•˜ê¸°</button>
        </div>
    </div>

    <div id="legalModal" class="modal"><div class="modal-content"><h3 id="modalTitle" class="text-xl font-bold mb-4 border-b pb-2"></h3><div id="modalBody" class="legal-box whitespace-pre-wrap"></div><button onclick="closeModal()" class="w-full mt-6 py-4 bg-[#4E342E] text-white rounded-xl font-bold">ë‹«ê¸°</button></div></div>

    <script>
        // ì‹œê°„ ìƒì„± ë¡œì§ ìƒëµ...
        const hS = document.getElementById('birth-hour'); const mS = document.getElementById('birth-min');
        for(let i=0; i<12; i++) { let o=document.createElement('option'); o.value=i; o.innerText=`${i===0?12:i}ì‹œ`; hS.appendChild(o); }
        for(let i=0; i<60; i++) { let o=document.createElement('option'); o.value=i; o.innerText=`${i}ë¶„`; mS.appendChild(o); }

        // [ë°ì´í„° ë³´ê°•] í–‰ìš´ì˜ ì‚¬ì›ì†Œ ë° ì¥ë¬¸ í›ˆìˆ˜
        const ohaengData = [
            { 
                type: "ëª©(æœ¨) - í‘¸ë¥¸ ë‚˜ë¬´ì˜ ê¸°ìš´", 
                lucky: "í™”(ç«)ì˜ ì—´ê¸°", 
                dir: "ë™ìª½ (ì²­ë£¡)", 
                color: "ì²­ë¡ìƒ‰, ë‹¤í¬ê·¸ë¦°",
                item: "ëª©ê±¸ì´, ë‚˜ë¬´ ì¬ì§ˆ ì†Œí’ˆ",
                desc: "ëŒ€ê°ë‹˜ì€ ë§ˆë¥´ì§€ ì•ŠëŠ” ìƒëª…ë ¥ê³¼ ì„±ì¥ì„ ìƒì§•í•˜ëŠ” ë‚˜ë¬´ì˜ ê¸°ìš´ì„ íƒ€ê³ ë‚˜ì…¨ìŠµë‹ˆë‹¤. í˜„ì¬ ëŒ€ê°ë‹˜ì˜ ìš´ì„¸ëŠ” ë¿Œë¦¬ê°€ ê¹Šê²Œ ë‚´ë ¤ ë•… ìœ„ì˜ ê²°ì‹¤ì„ ë§ºê¸° ì§ì „ì˜ í˜•êµ­ì…ë‹ˆë‹¤. íš¡ì¬ìˆ˜ëŠ” ì£¼ë¡œ ìƒˆë¡œìš´ ì‹œì‘ì´ë‚˜ ë¬¸ì„œìš´ì„ í†µí•´ ë“¤ì–´ì˜¤ë‹ˆ, ë™ìª½ ë°©í–¥ì—ì„œ ë“¤ë ¤ì˜¤ëŠ” íˆ¬ì ì†Œì‹ì´ë‚˜ ê³„ì•½ ê±´ì— ì§‘ì¤‘í•˜ì‹­ì‹œì˜¤. íŠ¹íˆ ë¶ˆ(ç«)ì˜ ê¸°ìš´ì„ ê°€ì§„ ì‚¬ëŒê³¼ í˜‘ë ¥í•˜ë©´ ë‚˜ë¬´ê°€ íƒ€ì˜¤ë¥´ë“¯ ì¬ë¬¼ìš´ì´ í­ë°œí•  ìƒì…ë‹ˆë‹¤. ì¡°ê¸‰í•¨ë³´ë‹¤ëŠ” ë‚˜ë¬´ì²˜ëŸ¼ ìš°ì§í•˜ê²Œ ê¸°ë‹¤ë¦¬ë©´ ê³§ í° ê³³ê°„ì´ ì—´ë¦´ ê²ƒì…ë‹ˆë‹¤.",
                baseNums: [3, 8, 11, 24, 31, 42]
            },
            { 
                type: "í™”(ç«) - íƒ€ì˜¤ë¥´ëŠ” ë¶ˆì˜ ê¸°ìš´", 
                lucky: "í† (åœŸ)ì˜ ì•ˆì •", 
                dir: "ë‚¨ìª½ (ì£¼ì‘)", 
                color: "ë¶‰ì€ìƒ‰, ì£¼í™ìƒ‰",
                item: "ê°€ì£½ ì§€ê°‘, ê¸ˆì† ì•ˆê²½í…Œ",
                desc: "ëŒ€ê°ë‹˜ì€ ì‚¬ë°©ì„ ë°íˆëŠ” íƒœì–‘ê³¼ ê°™ì€ ì •ì—´ì ì¸ ë¶ˆì˜ ê¸°ìš´ì…ë‹ˆë‹¤. í˜„ì¬ ëŒ€ê°ë‹˜ì˜ íš¡ì¬ìˆ˜ëŠ” ë§¤ìš° ëœ¨ê±°ìš°ë‚˜, ìì¹«í•˜ë©´ ì¬ë¬¼ì´ ì¦ë°œí•  ìˆ˜ ìˆëŠ” ê¸°ìš´ì´ ì„ì—¬ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì§„ì •ì‹œì¼œì¤„ í™(åœŸ)ì˜ ê¸°ìš´, ì¦‰ ë¶€ë™ì‚°ì´ë‚˜ ì¥ê¸°ì ì¸ ì €ì¶•ì— ê´€ì‹¬ì„ ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ë‚¨ìª½ ë°©í–¥ì˜ ë°ì€ ê³³ì´ ëŒ€ê°ë‹˜ì˜ ê¸°ìš´ì„ ë‹ì›Œì£¼ë©°, ë¶‰ì€ìƒ‰ í¬ì¸íŠ¸ê°€ ë“¤ì–´ê°„ ì†Œí’ˆì„ ëª¸ì— ì§€ë‹ˆë©´ ëœ»ë°–ì˜ ì¥ì†Œì—ì„œ ê·€ì¸ì„ ë§Œë‚˜ ê¸ˆì „ì  ì´ë“ì„ ì·¨í•  ê°•ë ¥í•œ íš¡ì¬ìˆ˜ê°€ ì˜ˆê²¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.",
                baseNums: [2, 7, 15, 28, 33, 45]
            },
            { 
                type: "í† (åœŸ) - ê¸°ë¦„ì§„ í™ì˜ ê¸°ìš´", 
                lucky: "ê¸ˆ(é‡‘)ì˜ ê²°ì‹¤", 
                dir: "ì¤‘ì•™ (í™©ë£¡)", 
                color: "í™©ê¸ˆìƒ‰, ê°ˆìƒ‰",
                item: "ë°˜ì§€, í™©í† ìƒ‰ ì†ìˆ˜ê±´",
                desc: "ëª¨ë“  ë§Œë¬¼ì„ í’ˆì–´ ê¸°ë¥´ëŠ” ëŒ€ì§€ì˜ ê¸°ìš´ì„ íƒ€ê³ ë‚˜ì…¨ìŠµë‹ˆë‹¤. ëŒ€ê°ë‹˜ì˜ ì¬ë¬¼ìš´ì€ ë•…ì†ì— ë¬»íŒ ê±°ëŒ€í•œ ê¸ˆê³ ì™€ ê°™ì•„, í•œ ë²ˆ í„°ì§€ë©´ ê±·ì¡ì„ ìˆ˜ ì—†ì´ í¬ê²Œ ë“¤ì–´ì˜µë‹ˆë‹¤. í˜„ì¬ íš¡ì¬ìˆ˜ëŠ” ì¤‘ì•™, ì¦‰ ëŒ€ê°ë‹˜ì´ ê°€ì¥ ìµìˆ™í•œ ê±°ì£¼ì§€ë‚˜ ì§ì¥ ê·¼ì²˜ì—ì„œ ë°œìƒí•  í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤. ê¸ˆ(é‡‘)ì˜ ê¸°ìš´ì´ ë³´ê°•ë˜ì–´ì•¼ ë•… ì† ë³´ì„ì´ ë°–ìœ¼ë¡œ ë“œëŸ¬ë‚˜ë¯€ë¡œ, ê¸ˆì† ì¥ì‹ êµ¬ë¥¼ ì°©ìš©í•˜ê±°ë‚˜ ì„œìª½ìœ¼ë¡œ ì§§ì€ ì—¬í–‰ì„ ë‹¤ë…€ì˜¤ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì‹ ìš©ì„ ìƒì§€ ì•ŠëŠ”ë‹¤ë©´ ì˜¬í•´ í° íš¡ì¬ê°€ ë°˜ë“œì‹œ ì°¾ì•„ì˜µë‹ˆë‹¤.",
                baseNums: [5, 10, 19, 22, 38, 41]
            },
            { 
                type: "ê¸ˆ(é‡‘) - ë‹¨ë‹¨í•œ ì‡ ì˜ ê¸°ìš´", 
                lucky: "ìˆ˜(æ°´)ì˜ ìœ ì—°í•¨", 
                dir: "ì„œìª½ (ë°±í˜¸)", 
                color: "í°ìƒ‰, ì€ìƒ‰",
                item: "ì‹œê³„, ìŠ¤ë§ˆíŠ¸ ê¸°ê¸°",
                desc: "ëŒ€ê°ë‹˜ì€ ì˜ˆë¦¬í•œ ì¹¼ë‚ ê³¼ ë‹¨ë‹¨í•œ ì›ì„ì„ ìƒì§•í•˜ëŠ” ê¸°ìš´ì…ë‹ˆë‹¤. ì¬ë¬¼ì„ ì·¨í•  ë•Œ ëˆ„êµ¬ë³´ë‹¤ ë‚ ì¹´ë¡œìš´ ì§ê´€ë ¥ì„ ë°œíœ˜í•˜ì‹œëŠ”êµ°ìš”. í˜„ì¬ íš¡ì¬ìˆ˜ëŠ” ì°°ë‚˜ì˜ íƒ€ì´ë°ì— ìˆ¨ì–´ ìˆìŠµë‹ˆë‹¤. ë„ˆë¬´ ê°•ì§í•˜ë©´ ë¶€ëŸ¬ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ë¬¼(æ°´)ì²˜ëŸ¼ ìœ ì—°í•˜ê²Œ ìƒí™©ì— ëŒ€ì²˜í•˜ì‹­ì‹œì˜¤. ì„œìª½ ë°©í–¥ì— ì¬ë¬¼ì˜ ë¬¸ì´ ì—´ë ¤ ìˆìœ¼ë©°, í°ìƒ‰ ì˜·ì´ë‚˜ ë°ì€ í†¤ì˜ ì½”ë””ê°€ ê¸ˆì „ìš´ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤. ì •ë°€í•œ ê¸°ê³„ë‚˜ ìˆ«ìë¥¼ ë‹¤ë£¨ëŠ” ì¼ì—ì„œ ì˜ì™¸ì˜ íš¡ì¬ê°€ ë°œìƒí•  ìƒì´ë‹ˆ, ë¡œë˜ë‚˜ ì£¼ì‹ ë“± ìˆ«ìì™€ ê´€ë ¨ëœ ìš´ì„ ì‹œí—˜í•´ ë³´ê¸°ì— ìµœì ì˜ ê¸°ìš´ì…ë‹ˆë‹¤.",
                baseNums: [4, 9, 13, 27, 35, 40]
            },
            { 
                type: "ìˆ˜(æ°´) - ê¹Šê³  ë„“ì€ ë¬¼ì˜ ê¸°ìš´", 
                lucky: "ëª©(æœ¨)ì˜ ì„±ì¥", 
                dir: "ë¶ìª½ (í˜„ë¬´)", 
                color: "ê²€ì€ìƒ‰, ë„¤ì´ë¹„",
                item: "í–¥ìˆ˜, ê²€ì€ ì‹ ë°œ",
                desc: "ëŠì„ì—†ì´ íë¥´ëŠ” ê°•ë¬¼ì²˜ëŸ¼ ì§€í˜œë¡­ê³  ê¹Šì€ ê¸°ìš´ì…ë‹ˆë‹¤. ëŒ€ê°ë‹˜ì˜ ì¬ë¬¼ìš´ì€ ì‚¬ë°©ì—ì„œ ëª¨ì—¬ë“œëŠ” ë¬¼ì¤„ê¸°ì™€ ê°™ì•„, ì²˜ìŒì—” ì‘ì•„ ë³´ì—¬ë„ ë‚˜ì¤‘ì—” í° ë°”ë‹¤ë¥¼ ì´ë£° ìƒì…ë‹ˆë‹¤. ë¶ìª½ ë°©í–¥ì˜ ì°¨ê°€ìš´ ê¸°ìš´ì´ ëŒ€ê°ë‹˜ì˜ íŒë‹¨ë ¥ì„ íë¦¬ì§€ ì•Šê²Œ ë•ìŠµë‹ˆë‹¤. ë‚˜ë¬´(æœ¨)ì˜ ê¸°ìš´ì´ í•„ìš”í•œ ì‹œì ì´ë‹ˆ, ì‹ë¬¼ì´ ë§ì€ ì¹´í˜ë‚˜ ê³µì›ì„ ìì£¼ ë°©ë¬¸í•˜ì—¬ ê¸°ìš´ì„ ì •í™”í•˜ì‹­ì‹œì˜¤. ë°¤ ì‹œê°„ëŒ€ì— íš¡ì¬ìˆ˜ê°€ ê°€ì¥ ê°•í•˜ê²Œ ë°œë™í•˜ë©°, ì–´ë‘ìš´ ê³„ì—´ì˜ ì˜·ì´ ëŒ€ê°ë‹˜ì˜ ë¬´ê²Œê°ì„ ë”í•´ ì¬ë¬¼ì´ ìƒˆì–´ ë‚˜ê°€ëŠ” ê²ƒì„ ë§‰ì•„ì¤„ ê²ƒì…ë‹ˆë‹¤.",
                baseNums: [1, 6, 17, 21, 39, 44]
            }
        ];

        const legalData = {
            privacy: { title: "ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜", content: "1. ìˆ˜ì§‘í•­ëª©: ì„±ëª…, ë²ˆí˜¸, ìƒì¼\n2. ëª©ì : ë¶„ì„ ë¦¬í¬íŠ¸ ì œê³µ\n3. ë³´ìœ ê¸°ê°„: ëª©ì  ë‹¬ì„± ì‹œ ì¦‰ì‹œ íŒŒê¸°" },
            terms: { title: "ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€", content: "ë³¸ ê²°ê³¼ëŠ” ê³¼í•™ì  ê·¼ê±°ê°€ ì—†ëŠ” ëª…ë¦¬í•™ì  ì¶”ì •ì¹˜ì´ë©°, ëª¨ë“  íˆ¬ì ë° ê²°ê³¼ì˜ ì±…ì„ì€ ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤." }
        };

        function openModal(t) { document.getElementById('modalTitle').innerText = legalData[t].title; document.getElementById('modalBody').innerText = legalData[t].content; document.getElementById('legalModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('legalModal').style.display = 'none'; }
        function toggleAll() { const c = document.getElementById('all-agree').checked; document.querySelectorAll('.sub-agree').forEach(e => e.checked = c); }

        function runAnalysis() {
            const name = document.getElementById('name').value;
            const birth = document.getElementById('birth').value;
            if(!name || birth.length !== 8) return alert("ì •ë³´ë¥¼ ì…ë ¥í•˜ì‹­ì‹œì˜¤.");
            if(!document.getElementById('p-agree').checked || !document.getElementById('t-agree').checked) return alert("ì•½ê´€ì— ë™ì˜í•˜ì‹­ì‹œì˜¤.");

            document.getElementById('form-inner').classList.add('hidden');
            document.getElementById('loading-area').classList.remove('hidden');

            const nameScore = name.split('').reduce((a, b) => a + b.charCodeAt(0), 0);
            const seed = parseInt(birth.substring(4)) + nameScore;
            const res = ohaengData[seed % 5];

            setTimeout(() => {
                document.getElementById('input-section').classList.add('hidden');
                document.getElementById('result-section').classList.remove('hidden');
                
                document.getElementById('res-name').innerText = name;
                document.getElementById('res-ohaeng').innerText = res.type;
                document.getElementById('res-lucky').innerText = res.lucky;
                document.getElementById('res-dir').innerText = res.dir;
                document.getElementById('res-color').innerText = res.color;
                document.getElementById('res-item').innerText = res.item;
                document.getElementById('res-desc').innerText = res.desc;

                // í–‰ìš´ì˜ ë²ˆí˜¸ ë Œë”ë§
                const numArea = document.getElementById('res-nums');
                numArea.innerHTML = '';
                res.baseNums.forEach(n => {
                    const b = document.createElement('span');
                    b.className = `lotto-ball bg-gray-600`;
                    b.innerText = n;
                    numArea.appendChild(b);
                });

                window.scrollTo({top:0, behavior:'smooth'});
            }, 2500);
        }
    </script>
</body>
</html>
