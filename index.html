<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인생대감 - 고품격 횡재수 분석</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #F7F3E9; color: #4E342E; -webkit-user-select: none; user-select: none; }
        .card-shadow { box-shadow: 0 10px 40px rgba(0,0,0,0.06); }
        .gold-wave { background: linear-gradient(90deg, #B5A47D, #F9F1D0, #B5A47D, #E1C16E, #B5A47D); background-size: 200% auto; color: transparent; -webkit-background-clip: text; background-clip: text; animation: shine 3s linear infinite; font-weight: 800; }
        @keyframes shine { to { background-position: 200% center; } }
        .hidden { display: none; }
        input, select { background-color: #F9FAFB !important; border: 1px solid #E5E7EB !important; outline: none; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 100; align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; padding: 30px; border-radius: 30px; width: 100%; max-width: 550px; max-height: 80vh; overflow-y: auto; }
        .legal-text { font-size: 13px; line-height: 1.8; color: #555; text-align: left; }
        .loader { width: 40px; height: 40px; border: 4px solid #E1C16E; border-bottom-color: #4E342E; border-radius: 50%; display: inline-block; animation: rotation 1s linear infinite; }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .lotto-ball { width: 38px; height: 38px; border-radius: 50%; display: inline-flex; items-center; justify-content: center; font-weight: 800; color: white; margin: 3px; line-height: 38px; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-12 px-4" oncontextmenu="return false">

    <header class="text-center mb-10">
        <h1 class="text-4xl font-black mb-2">인생대감</h1>
        <p class="text-xl flex flex-col sm:flex-row items-center justify-center gap-2">
            <span class="text-gray-600 font-bold">고품격 횡재수</span> 
            <span class="gold-wave text-2xl">분석 리포트</span>
        </p>
    </header>

    <main id="input-section" class="w-full max-w-lg bg-white rounded-[50px] card-shadow p-10 space-y-8">
        <div id="form-inner" class="space-y-6">
            <div><label class="block text-lg font-bold mb-3">성함</label><input type="text" id="name" class="w-full p-5 rounded-2xl text-lg" placeholder="성함을 입력하세요"></div>
            <div><label class="block text-lg font-bold mb-3">휴대폰 번호</label><input type="tel" id="phone" class="w-full p-5 rounded-2xl text-lg" placeholder="01012345678"></div>
            <div><label class="block text-lg font-bold mb-3">생년월일</label><input type="number" id="birth" class="w-full p-5 rounded-2xl text-lg" placeholder="19950815"></div>
            <div>
                <label class="block text-lg font-bold mb-3">태어난 시간</label>
                <div class="flex gap-2">
                    <select id="ampm" class="w-1/3 p-5 rounded-2xl text-sm font-bold"><option value="0">오전</option><option value="12">오후</option></select>
                    <select id="birth-hour" class="w-1/3 p-5 rounded-2xl text-sm font-bold"></select>
                    <select id="birth-min" class="w-1/3 p-5 rounded-2xl text-sm font-bold"></select>
                </div>
            </div>

            <div class="bg-gray-50 rounded-3xl p-6 space-y-4">
                <div class="flex items-center gap-3 cursor-pointer pb-4 border-b border-gray-200" onclick="toggleAll()">
                    <input type="checkbox" id="all-agree" class="w-6 h-6 accent-[#4E342E]">
                    <span class="font-bold text-lg">모든 약관에 전체 동의하기</span>
                </div>
                <div class="space-y-3 pt-2 text-sm text-gray-600">
                    <div class="flex justify-between items-center"><label class="flex items-center gap-2"><input type="checkbox" id="p-agree" class="sub-agree w-5 h-5 accent-[#4E342E]"><span>[필수] 개인정보 수집 및 이용</span></label><button onclick="openModal('privacy')" class="underline">보기</button></div>
                    <div class="flex justify-between items-center"><label class="flex items-center gap-2"><input type="checkbox" id="t-agree" class="sub-agree w-5 h-5 accent-[#4E342E]"><span>[필수] 서비스 이용약관</span></label><button onclick="openModal('terms')" class="underline">보기</button></div>
                    <div class="flex justify-between items-center"><label class="flex items-center gap-2"><input type="checkbox" id="m-agree" class="sub-agree w-5 h-5 accent-[#4E342E]"><span>[선택] 마케팅 정보 수신 동의</span></label><button onclick="openModal('marketing')" class="underline">보기</button></div>
                </div>
            </div>
            <button onclick="runAnalysis()" class="w-full py-6 bg-[#4E342E] text-white rounded-[35px] text-2xl font-bold shadow-xl active:scale-95 transition-all">무료 횡재수 분석 시작</button>
        </div>

        <div id="loading-area" class="hidden flex flex-col items-center py-20 space-y-6 text-center">
            <span class="loader"></span>
            <p class="text-xl font-black text-gray-700 animate-pulse">대감님이 천기를 살피는 중입니다...</p>
        </div>
    </main>

    <div id="result-section" class="hidden w-full max-w-lg space-y-6 pb-20">
        <div class="bg-[#4E342E] rounded-t-[50px] p-10 text-center text-white">
            <h2 class="text-2xl font-bold mb-1"><span id="res-name" class="text-yellow-400"></span> 대감님의 리포트</h2>
        </div>
        <div class="bg-white rounded-b-[50px] card-shadow p-8 space-y-8 -mt-2">
            <div id="res-ohaeng-box" class="bg-amber-50 rounded-3xl p-6 text-center border border-amber-100">
                <p id="res-ohaeng" class="text-3xl font-black text-[#4E342E]"></p>
            </div>
            <div class="grid grid-cols-2 gap-4">
                <div class="p-4 bg-gray-50 rounded-2xl text-center"><p class="text-[10px] font-bold text-gray-400">색상</p><p id="res-color" class="font-black"></p></div>
                <div class="p-4 bg-gray-50 rounded-2xl text-center"><p class="text-[10px] font-bold text-gray-400">방향</p><p id="res-dir" class="font-black"></p></div>
                <div class="p-4 bg-gray-50 rounded-2xl text-center"><p class="text-[10px] font-bold text-gray-400">물건</p><p id="res-item" class="font-black"></p></div>
                <div class="p-4 bg-gray-50 rounded-2xl text-center"><p class="text-[10px] font-bold text-gray-400">보완기운</p><p id="res-lucky" class="font-black"></p></div>
            </div>
            <div class="bg-[#F7F3E9] p-6 rounded-3xl border-2 border-dashed border-[#B5A47D] text-center">
                <p class="font-bold text-[#4E342E] mb-3">✨ 대감님 맞춤 횡재 번호</p>
                <div id="res-nums" class="flex flex-wrap justify-center gap-1"></div>
            </div>
            <div class="bg-gray-50 p-6 rounded-3xl"><p id="res-desc" class="text-gray-700 text-sm leading-relaxed"></p></div>
            <button onclick="location.reload()" class="w-full py-5 bg-gray-100 text-gray-500 rounded-2xl font-bold">다시 분석하기</button>
        </div>
    </div>

    <div id="legalModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle" class="text-xl font-bold mb-4 border-b pb-2"></h3>
            <div id="modalBody" class="legal-text whitespace-pre-wrap"></div>
            <button onclick="closeModal()" class="w-full mt-6 py-4 bg-[#4E342E] text-white rounded-xl font-bold">내용을 확인했습니다</button>
        </div>
    </div>

    <script>
        const hS = document.getElementById('birth-hour'); const mS = document.getElementById('birth-min');
        for(let i=0; i<12; i++) { let o=document.createElement('option'); o.value=i; o.innerText=`${i===0?12:i}시`; hS.appendChild(o); }
        for(let i=0; i<60; i++) { let o=document.createElement('option'); o.value=i; o.innerText=`${i}분`; mS.appendChild(o); }

        function openModal(t) {
            const data = {
                privacy: {
                    title: "개인정보 수집 및 이용 동의",
                    content: "본 서비스는 귀하의 정밀한 운세 분석을 위해 아래와 같은 개인정보를 수집합니다.\n\n1. 수집 항목: 성명, 휴대폰 번호, 생년월일, 태어난 시간\n2. 수집 목적: 명리학 기반의 개인별 횡재수 분석 리포트 제공, 본인 확인 및 서비스 이용에 따른 고객 상담 응대\n3. 보유 및 이용 기간: 수집된 정보는 서비스 제공 완료 후 6개월간 보관하며, 이후 관련 법령에 따라 지체 없이 파기합니다.\n4. 동의 거부 권리: 귀하는 본 동의를 거부할 권리가 있으나, 거부 시 분석 리포트 이용이 제한됩니다."
                },
                terms: {
                    title: "서비스 이용약관",
                    content: "제1조 (목적)\n본 약관은 '인생대감'이 제공하는 운세 분석 서비스의 이용 조건 및 절차를 규정합니다.\n\n제2조 (내용의 성격)\n본 서비스가 제공하는 모든 정보는 명리학적 데이터에 기반한 추정치이며, 과학적 근거가 없습니다. 제공되는 횡재수 및 행운의 번호는 재미와 참고를 위한 것이며 절대적인 결과를 보장하지 않습니다.\n\n제3조 (책임 제한)\n귀하가 본 서비스의 정보를 바탕으로 행하는 모든 경제적 활동(투자, 복권 구매 등)에 대한 결과와 책임은 전적으로 본인에게 있으며, '인생대감'은 이로 인해 발생하는 어떠한 손실에 대해서도 법적 책임을 지지 않습니다."
                },
                marketing: {
                    title: "마케팅 정보 수신 동의 (선택)",
                    content: "귀하의 운세 변화에 따른 맞춤형 횡재 정보 및 서비스 안내를 받아보실 수 있습니다.\n\n1. 수집 항목: 성명, 휴대폰 번호\n2. 수집 목적: 주간 횡재수 알림, 무료 운세 이벤트 안내, 신규 서비스 홍보\n3. 전송 방법: 카카오 알림톡, 문자 메시지(SMS)\n4. 보유 기간: 서비스 종료 시 또는 동의 철회 시까지 보관합니다.\n\n* 동의하지 않으셔도 무료 분석 서비스는 이용 가능합니다."
                }
            };
            document.getElementById('modalTitle').innerText = data[t].title;
            document.getElementById('modalBody').innerText = data[t].content;
            document.getElementById('legalModal').style.display = 'flex';
        }
        function closeModal() { document.getElementById('legalModal').style.display = 'none'; }
        function toggleAll() { const c = document.getElementById('all-agree').checked; document.querySelectorAll('.sub-agree').forEach(e => e.checked = c); }

        function runAnalysis() {
            const name = document.getElementById('name').value;
            const birth = document.getElementById('birth').value;
            const hour = parseInt(document.getElementById('birth-hour').value) + parseInt(document.getElementById('ampm').value);
            const min = parseInt(document.getElementById('birth-min').value);

            if(!name || birth.length !== 8) return alert("성함과 생년월일 8자리를 입력하십시오.");
            if(!document.getElementById('p-agree').checked || !document.getElementById('t-agree').checked) return alert("필수 약관에 동의하셔야 합니다.");

            document.getElementById('form-inner').classList.add('hidden');
            document.getElementById('loading-area').classList.remove('hidden');

            let nameVal = 0; for(let i=0; i<name.length; i++) nameVal += name.charCodeAt(i);
            const totalSeed = nameVal + parseInt(birth) + hour + min;
            const ohaengIdx = totalSeed % 5;

            const ohaengData = [
                { type: "목(木) - 푸른 나무의 기운", color: "청록색", dir: "동쪽", item: "나무 빗", lucky: "화(火)", desc: `대감님의 성함(${name})에 서린 생명력과 ${hour}시의 정기가 만나 큰 숲을 이루는 형국입니다. 올해는 문서운이 강하니 동쪽에서 들려오는 계약 소식을 귀하게 여기소서.` },
                { type: "화(火) - 타오르는 불의 기운", color: "붉은색", dir: "남쪽", item: "가죽 지갑", lucky: "토(土)", desc: `성함의 획수가 불꽃처럼 타올라 태어나신 시각의 열기를 더합니다. 횡재수가 남쪽에서 빛나고 있으니 붉은 기운을 가까이하여 재물운을 녹여 대감님의 것으로 만드소서.` },
                { type: "토(土) - 기름진 흙의 기운", color: "황금색", dir: "중앙", item: "반지", lucky: "금(金)", desc: `모든 것을 품는 대지의 사주입니다. 생년월일과 생시의 합이 땅속 보물을 일깨우니, 멀리 가지 마시고 익숙한 곳에서 횡재의 기회를 잡으소서.` },
                { type: "금(金) - 단단한 쇠의 기운", color: "은색", dir: "서쪽", item: "시계", lucky: "수(水)", desc: `결단력 있는 경금의 사주입니다. 이름 속 기운이 날카로운 칼날이 되어 재물을 베어낼 준비가 되었습니다. 서쪽의 기운을 받아 횡재의 타이밍을 단번에 잡으소서.` },
                { type: "수(水) - 깊고 넓은 물의 기운", color: "검은색", dir: "북쪽", item: "향수", lucky: "목(木)", desc: `지혜가 넘치는 임수의 기운입니다. 사방에서 재물이 흘러 들어오는 형국이니, 북쪽의 기운을 막지 말고 유연하게 대처하여 큰 바다와 같은 부를 누리소서.` }
            ];

            const res = ohaengData[ohaengIdx];
            const luckyNums = [];
            let i = 0; while(luckyNums.length < 6) {
                let n = Math.floor(Math.abs(Math.sin(totalSeed + i)) * 45) + 1;
                if(!luckyNums.includes(n)) luckyNums.push(n); i++;
            }
            luckyNums.sort((a,b)=>a-b);

            setTimeout(() => {
                document.getElementById('input-section').classList.add('hidden');
                document.getElementById('result-section').classList.remove('hidden');
                document.getElementById('res-name').innerText = name;
                document.getElementById('res-ohaeng').innerText = res.type;
                document.getElementById('res-color').innerText = res.color;
                document.getElementById('res-dir').innerText = res.dir;
                document.getElementById('res-item').innerText = res.item;
                document.getElementById('res-lucky').innerText = res.lucky;
                document.getElementById('res-desc').innerText = res.desc;

                const numArea = document.getElementById('res-nums');
                numArea.innerHTML = '';
                const colors = ['#fbc02d', '#1976d2', '#e53935', '#757575', '#43a047'];
                luckyNums.forEach(n => {
                    const b = document.createElement('span'); b.className = `lotto-ball`;
                    b.style.backgroundColor = colors[Math.floor(n/10)] || '#8e24aa';
                    b.innerText = n; numArea.appendChild(b);
                });
                window.scrollTo({top:0, behavior:'smooth'});
            }, 2500);
        }
    </script>
</body>
</html>
